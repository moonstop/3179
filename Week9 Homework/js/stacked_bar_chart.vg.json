{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
   
    "width": 450,
    "height": 400,
    "background": "#D4ECDE",
    "data": { 
        "url": "https://raw.githubusercontent.com/moonstop/3179/main/Week9%20Homework/data/country_wise_latest.csv"
    },
    "params": [{
        "name": "status_filter",
        "select": {"type": "point", "fields": ["status"]},
        "bind": "legend"
        }
        ],"transform": [{"fold": ["Active", "Deaths", "Recovered"], "as": ["status", "value"]}],
    "mark" : "bar",
    "encoding": {
        "x": {"field": "WHO Region", "type": "nominal" },
        "y": { "field": "value", "aggregate": "sum", "type": "quantitative", "stack": "normalize", "title": "Cases"},
        "color": {
            "field": "status",
            "type": "nominal",
            "scale": {
              "domain": ["Active", "Recovered", "Deaths"],
              "range": ["#82E0AA", "#F7DC6F", "#F1948A"]
            }
        
          },
          "tooltip": [
            {"field": "WHO Region", "type": "nominal"},
            {"field": "Active", "type": "quantitative", "format": ","},
            {"field": "Deaths", "type": "quantitative", "format": ","},
            {"field": "Recovered", "type": "quantitative", "format": ","},
            {"field": "Confirmed", "type": "quantitative"}
            ],
            "opacity": {
                "condition": {"param": "status_filter", "value": 0.9},
                "value": 0.3   
                }
        
          
        }
    

        
                }
    
    
    
          
    
        

        
        

            
    
      